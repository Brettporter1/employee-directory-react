{"ast":null,"code":"import _objectSpread from\"/Users/brettporter/github/homework/employee-directory-react/employee-directory/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/brettporter/github/homework/employee-directory-react/employee-directory/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{Fragment,useState,useEffect}from'react';import EmployeeList from'./components/EmployeeList';import Search from'./components/Search';import Nav from'./components/Nav';import EmployeeContext from'./utils/EmployeeContext';import API from'./utils/API';import'./App.css';var App=function App(){var _useState=useState({employees:[],displayedEmployees:[],sortOrder:'descending'}),_useState2=_slicedToArray(_useState,2),employees=_useState2[0],setEmployees=_useState2[1];var handleSearch=function handleSearch(e){var searchTerm=e.target.value;console.log(searchTerm);console.log(employees.employees);var searchList=employees.employees.filter(function(employee){var nameVal=\"\".concat(employee.name.first.toLowerCase(),\" \").concat(employee.name.last.toLowerCase());if(nameVal.indexOf(searchTerm.toLowerCase())!==-1){return employee;}});setEmployees(_objectSpread({},employees,{displayedEmployees:searchList}));};var handleSort=function handleSort(){console.log(employees.displayedEmployees);if(employees.sortOrder==='descending'){employees.displayedEmployees.sort(function(a,b){setEmployees(_objectSpread({},employees,{sortOrder:'ascending'}));console.log(a.name.first);return a.name.first.localeCompare(b.name.first);});}else{employees.displayedEmployees.sort(function(a,b){setEmployees(_objectSpread({},employees,{sortOrder:'descending'}));return b.name.first.localeCompare(a.name.first);});}};useEffect(function(){API.getUsers().then(function(results){setEmployees(_objectSpread({},employees,{employees:results.data.results,displayedEmployees:results.data.results}));});},[]);return React.createElement(Fragment,null,React.createElement(Nav,null),React.createElement(EmployeeContext.Provider,{value:{employees:employees,handleSearch:handleSearch,handleSort:handleSort}},React.createElement(Search,null),React.createElement(\"div\",{className:\"main-container\"},React.createElement(EmployeeList,null))));};export default App;","map":{"version":3,"sources":["/Users/brettporter/github/homework/employee-directory-react/employee-directory/src/App.js"],"names":["React","Fragment","useState","useEffect","EmployeeList","Search","Nav","EmployeeContext","API","App","employees","displayedEmployees","sortOrder","setEmployees","handleSearch","e","searchTerm","target","value","console","log","searchList","filter","employee","nameVal","name","first","toLowerCase","last","indexOf","handleSort","sort","a","b","localeCompare","getUsers","then","results","data"],"mappings":"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","sourcesContent":["import React, { Fragment, useState, useEffect } from 'react';\nimport EmployeeList from './components/EmployeeList';\nimport Search from './components/Search';\nimport Nav from './components/Nav';\nimport EmployeeContext from './utils/EmployeeContext';\nimport API from './utils/API';\nimport './App.css';\n\nconst App = () => {\n  const [employees, setEmployees] = useState({\n    employees: [],\n    displayedEmployees: [],\n    sortOrder: 'descending'\n  });\n\n  const handleSearch = e => {\n    const searchTerm = e.target.value;\n    console.log(searchTerm);\n    console.log(employees.employees);\n    const searchList = employees.employees.filter(employee => {\n      let nameVal = `${employee.name.first.toLowerCase()} ${employee.name.last.toLowerCase()}`;\n      if (nameVal.indexOf(searchTerm.toLowerCase()) !== -1) {\n        return employee;\n      }\n    });\n    setEmployees({ ...employees, displayedEmployees: searchList });\n  };\n\n  const handleSort = () => {\n    console.log(employees.displayedEmployees);\n    if (employees.sortOrder === 'descending') {\n      employees.displayedEmployees.sort((a, b) => {\n        setEmployees({ ...employees, sortOrder: 'ascending' });\n        console.log(a.name.first);\n        return a.name.first.localeCompare(b.name.first);\n      });\n    } else {\n      employees.displayedEmployees.sort((a, b) => {\n        setEmployees({ ...employees, sortOrder: 'descending' });\n        return b.name.first.localeCompare(a.name.first);\n      });\n    }\n  };\n\n  useEffect(() => {\n    API.getUsers().then(results => {\n      setEmployees({\n        ...employees,\n        employees: results.data.results,\n        displayedEmployees: results.data.results\n      });\n    });\n  }, []);\n  return (\n    <Fragment>\n      <Nav />\n      <EmployeeContext.Provider value={{ employees, handleSearch, handleSort }}>\n        <Search />\n        <div className='main-container'>\n          <EmployeeList />\n        </div>\n      </EmployeeContext.Provider>\n    </Fragment>\n  );\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}