{"ast":null,"code":"import { useEffect, useContext } from 'react';\nimport { EmployeeContext } from 'EmployeeContext';\nimport axios from 'axios';\nexport function useGet(url) {\n  const _useContext = useContext(EmployeeContext),\n        employees = _useContext.employees,\n        setEmployees = _useContext.setEmployees,\n        displayedEmployees = _useContext.displayedEmployees,\n        setDisplayedEmployees = _useContext.setDisplayedEmployees;\n\n  useEffect(() => {\n    async function getEmployees() {\n      try {\n        const response = await axios.get(url);\n        setEmployees(response.data.results);\n        setDisplayedEmployees(response.data.results);\n      } catch (error) {\n        console.log('error ocurred getting info from the API: ', error);\n      }\n    }\n\n    getEmployees();\n  }, []); // sorts the employees based on first name.\n\n  function handleSort() {\n    employees.sort(function (a, b) {\n      if (a.name.first < b.name.first) {\n        return -1;\n      } else {\n        return 1;\n      }\n    }); // You have to spread, because this creates a new variable, instead of just updating the variable. React will not recognize it as an update if you just update the variable.\n\n    setDisplayedEmployees([...employees]);\n  }\n\n  return {\n    displayedEmployees,\n    handleSort\n  };\n}","map":{"version":3,"sources":["/Users/brettporter/github/homework/employee-directory-react/employee-directory/src/utils/API.js"],"names":["useEffect","useContext","EmployeeContext","axios","useGet","url","employees","setEmployees","displayedEmployees","setDisplayedEmployees","getEmployees","response","get","data","results","error","console","log","handleSort","sort","a","b","name","first"],"mappings":"AAAA,SAASA,SAAT,EAAoBC,UAApB,QAAsC,OAAtC;AACA,SAASC,eAAT,QAAgC,iBAAhC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAO,SAASC,MAAT,CAAgBC,GAAhB,EAAqB;AAAA,sBAMtBJ,UAAU,CAACC,eAAD,CANY;AAAA,QAExBI,SAFwB,eAExBA,SAFwB;AAAA,QAGxBC,YAHwB,eAGxBA,YAHwB;AAAA,QAIxBC,kBAJwB,eAIxBA,kBAJwB;AAAA,QAKxBC,qBALwB,eAKxBA,qBALwB;;AAQ1BT,EAAAA,SAAS,CAAC,MAAM;AACd,mBAAeU,YAAf,GAA8B;AAC5B,UAAI;AACF,cAAMC,QAAQ,GAAG,MAAMR,KAAK,CAACS,GAAN,CAAUP,GAAV,CAAvB;AACAE,QAAAA,YAAY,CAACI,QAAQ,CAACE,IAAT,CAAcC,OAAf,CAAZ;AACAL,QAAAA,qBAAqB,CAACE,QAAQ,CAACE,IAAT,CAAcC,OAAf,CAArB;AACD,OAJD,CAIE,OAAOC,KAAP,EAAc;AACdC,QAAAA,OAAO,CAACC,GAAR,CAAY,2CAAZ,EAAyDF,KAAzD;AACD;AACF;;AACDL,IAAAA,YAAY;AACb,GAXQ,EAWN,EAXM,CAAT,CAR0B,CAqB1B;;AACA,WAASQ,UAAT,GAAsB;AACpBZ,IAAAA,SAAS,CAACa,IAAV,CAAe,UAASC,CAAT,EAAYC,CAAZ,EAAe;AAC5B,UAAID,CAAC,CAACE,IAAF,CAAOC,KAAP,GAAeF,CAAC,CAACC,IAAF,CAAOC,KAA1B,EAAiC;AAC/B,eAAO,CAAC,CAAR;AACD,OAFD,MAEO;AACL,eAAO,CAAP;AACD;AACF,KAND,EADoB,CAQpB;;AACAd,IAAAA,qBAAqB,CAAC,CAAC,GAAGH,SAAJ,CAAD,CAArB;AACD;;AAED,SAAO;AAAEE,IAAAA,kBAAF;AAAsBU,IAAAA;AAAtB,GAAP;AACD","sourcesContent":["import { useEffect, useContext } from 'react';\nimport { EmployeeContext } from 'EmployeeContext';\nimport axios from 'axios';\n\nexport function useGet(url) {\n  const {\n    employees,\n    setEmployees,\n    displayedEmployees,\n    setDisplayedEmployees\n  } = useContext(EmployeeContext);\n\n  useEffect(() => {\n    async function getEmployees() {\n      try {\n        const response = await axios.get(url);\n        setEmployees(response.data.results);\n        setDisplayedEmployees(response.data.results);\n      } catch (error) {\n        console.log('error ocurred getting info from the API: ', error);\n      }\n    }\n    getEmployees();\n  }, []);\n\n  // sorts the employees based on first name.\n  function handleSort() {\n    employees.sort(function(a, b) {\n      if (a.name.first < b.name.first) {\n        return -1;\n      } else {\n        return 1;\n      }\n    });\n    // You have to spread, because this creates a new variable, instead of just updating the variable. React will not recognize it as an update if you just update the variable.\n    setDisplayedEmployees([...employees]);\n  }\n\n  return { displayedEmployees, handleSort };\n}\n"]},"metadata":{},"sourceType":"module"}